<template>
<div id="mainContainer"><span type="bbsrow" srow="0"><div><span class="" data-type="bbsline" data-row="0"><span><span class="q15 b4">【板主:macauboy】                 </span><span class="q11 b4">魔法風雲會</span><span class="q15 b4">                      看板《Magic》</span><span class="q7 b0"> </span></span></span><div></div></div></span><span type="bbsrow" srow="1"><div><span class="" data-type="bbsline" data-row="1"><span><span class="q7 b0">[←]離開 [→]閱讀 [Ctrl-P]發表文章 [d]刪除 [z]精華區 [i]看板資訊/設定 [h]說明   </span></span></span><div></div></div></span><span type="bbsrow" srow="2"><div><span class="" data-type="bbsline" data-row="2"><span><span class="q0 b7">   編號    日 期 作  者       文  章  標  題                          人氣:10  </span><span class="q7 b0"> </span></span></span><div></div></div></span><span type="bbsrow" srow="3"><div><span class="" data-type="bbsline" data-row="3"><span><span class="q7 b0">●28592 +</span><span class="q8 b0">  </span><span class="q7 b0"> 9/30 linwate      □ [情報] 琺爾 《贊迪卡再起》現開/輪抽活動        </span></span></span><div></div></div></span><span type="bbsrow" srow="4"><div><span class="" data-type="bbsline" data-row="4"><span><span class="q7 b0">  28593 +</span><span class="q10 b0"> 8</span><span class="q7 b0"> 9/30 DeltaX       □ [問題] 想詢問一下露天以及蝦皮拍賣的卡店        </span></span></span><div></div></div></span><span type="bbsrow" srow="5"><div><span class="" data-type="bbsline" data-row="5"><span><span class="q7 b0">  28594  </span><span class="q8 b0">  </span><span class="q7 b0">10/01 -            □ (本文已被刪除) [omegaglandy]                   </span></span></span><div></div></div></span><span type="bbsrow" srow="6"><div><span class="" data-type="bbsline" data-row="6"><span><span class="q7 b0">  28595 +</span><span class="q11 b0">19</span><span class="q7 b0">10/03 EricTCartman □ [討論] 如果你對魔風現況不滿，請別再給老威錢    </span></span></span><div></div></div></span><span type="bbsrow" srow="7"><div><span class="" data-type="bbsline" data-row="7"><span><span class="q7 b0">  28596 +</span><span class="q8 b0">  </span><span class="q7 b0">10/03 spirtofnight □ [閒聊] 10/04周日11:00 中和 約打輪抽            </span></span></span><div></div></div></span><span type="bbsrow" srow="8"><div><span class="" data-type="bbsline" data-row="8"><span><span class="q7 b0">  28597 +</span><span class="q10 b0"> 3</span><span class="q7 b0">10/04 </span><span class="q15 b0">ZMTL         </span><span class="q7 b0">R: [閒聊] MTGA每日特價:金幣換金幣                 </span></span></span><div></div></div></span><span type="bbsrow" srow="9"><div><span class="" data-type="bbsline" data-row="9"><span><span class="q7 b0">  28598 +</span><span class="q10 b0"> 9</span><span class="q7 b0">10/05 vm3cl4bp6    R: [贈送] 分享幾組FNM序號                         </span></span></span><div></div></div></span><span type="bbsrow" srow="10"><div><span class="" data-type="bbsline" data-row="10"><span><span class="q7 b0">  28599 +</span><span class="q10 b0"> 4</span><span class="q7 b0">10/06 sarraya      R: [閒聊] ZNR 劇情                                </span></span></span><div></div></div></span><span type="bbsrow" srow="11"><div><span class="" data-type="bbsline" data-row="11"><span><span class="q7 b0">  28600 +</span><span class="q11 b0">11</span><span class="q7 b0">10/06 </span><span class="q15 b0">ZMTL         </span><span class="q7 b0">□ [閒聊] ZNR BO1 輪抽的死局                      </span></span></span><div></div></div></span><span type="bbsrow" srow="12"><div><span class="" data-type="bbsline" data-row="12"><span><span class="q7 b0">  28601 +</span><span class="q10 b0"> 2</span><span class="q7 b0">10/06 Stormrage    □ [情報] MTGA 贊迪卡再起 全圖基本地              </span></span></span><div></div></div></span><span type="bbsrow" srow="13"><div><span class="" data-type="bbsline" data-row="13"><span><span class="q7 b0">  28602 +</span><span class="q8 b0">  </span><span class="q7 b0">10/07 icesoul428   □ [情報] 遊戲平方10月週間賽事！                  </span></span></span><div></div></div></span><span type="bbsrow" srow="14"><div><span class="" data-type="bbsline" data-row="14"><span><span class="q7 b0">  28603 +</span><span class="q10 b0"> 9</span><span class="q7 b0">10/07 guets        □ [討論] 猖獗的底密爾                            </span></span></span><div></div></div></span><span type="bbsrow" srow="15"><div><span class="" data-type="bbsline" data-row="15"><span><span class="q7 b0">  28604 +</span><span class="q8 b0">  </span><span class="q7 b0">10/08 </span><span class="q15 b0">tigertiger   </span><span class="q7 b0">□ [交易] Rivals of Ixalank 卡                    </span></span></span><div></div></div></span><span type="bbsrow" srow="16"><div><span class="" data-type="bbsline" data-row="16"><span><span class="q7 b0">  28605 +</span><span class="q8 b0">  </span><span class="q7 b0">10/08 tripleh917   □ [交易] 賣牌TCG mid price*23                    </span></span></span><div></div></div></span><span type="bbsrow" srow="17"><div><span class="" data-type="bbsline" data-row="17"><span><span class="q7 b0">  28606 +</span><span class="q8 b0">  </span><span class="q7 b0">10/08 omegaglandy  □ [情報]MagicStar周末輪抽/標準/先驅/近代比賽~    </span></span></span><div></div></div></span><span type="bbsrow" srow="18"><div><span class="" data-type="bbsline" data-row="18"><span><span class="q7 b0">  28607 +</span><span class="q8 b0">  </span><span class="q7 b0">10/08 icesoul428   □ [情報] 遊戲平方雙十節標準/近代賽               </span></span></span><div></div></div></span><span type="bbsrow" srow="19"><div><span class="" data-type="bbsline" data-row="19"><span><span class="q7 b0">  </span><span class="q11 b0">  ★ </span><span class="q7 b0"> m</span><span class="q11 b0">77</span><span class="q7 b0"> 7/09 buffalobill  □ [心得] 不斷變化的遊戲～回鍋玩家規則指南～      </span></span></span><div></div></div></span><span type="bbsrow" srow="20"><div><span class="" data-type="bbsline" data-row="20"><span><span class="q7 b0">  </span><span class="q11 b0">  ★ </span><span class="q7 b0"> M</span><span class="q11 b0">21</span><span class="q7 b0">11/05 </span><span class="q15 b0">hiyori9977   </span><span class="q7 b0">□ [心得] MTGA 新手常見問題整理 PlayZendikar      </span></span></span><div></div></div></span><span type="bbsrow" srow="21"><div><span class="" data-type="bbsline" data-row="21"><span><span class="q7 b0">  </span><span class="q11 b0">  ★ </span><span class="q7 b0"> M</span><span class="q8 b0">  </span><span class="q7 b0">11/12 macauboy     □ [情報] MTG查牌資源                             </span></span></span><div></div></div></span><span type="bbsrow" srow="22"><div><span class="" data-type="bbsline" data-row="22"><span><span class="q7 b0">  </span><span class="q11 b0">  ★  </span><span class="q7 b0">M</span><span class="q10 b0"> 2 </span><span class="q7 b0">8/01 macauboy     □ FNM@Home碼的取得方式 on MTGA                   </span></span></span><div></div></div></span><span type="bbsrow" srow="23"><div><span class="" data-type="bbsline" data-row="23"><span><span class="q4 b6"> 文章選讀 </span><span class="q0 b7"> </span><span class="q1 b7">(y)</span><span class="q0 b7">回應</span><span class="q1 b7">(X)</span><span class="q0 b7">推文</span><span class="q1 b7">(^X)</span><span class="q0 b7">轉錄 </span><span class="q1 b7">(=[]&lt;&gt;)</span><span class="q0 b7">相關主題</span><span class="q1 b7">(/?a)</span><span class="q0 b7">找標題/作者 </span><span class="q1 b7">(b)</span><span class="q0 b7">進板畫面  </span><span class="q7 b0"> </span></span></span><div></div></div></span></div>
</template>

<script>
export default {
  name: "Forum",
  props: ['bbsrow'],
  data: function () {
    return {
      rowIndex: 0
    }
  },
  created() {
    console.log("create");
  },
  mounted() {
    this.onChange();
    this.$bus.$on('on-keyup', this.onKeyup);
    console.log("mounted");
  },
  beforeDestroy() {
    this.$bus.$off('on-keyup', this.onKeyup);
    console.log("destroy");
  },
  watch: {
    // call again the method if the route changes
    '$route': 'onChange'
  },
  methods: {
    onChange() {
      console.log("reset rowIndex=0");
      this.rowIndex = 0;
    },
    onKeyup: function (e) {
      switch (e.which) {
        case 38:
          this.rowIndex--;
          if (this.rowIndex < 0) this.rowIndex = this.bbsrow - 1;
          break;
        case 40:
          this.rowIndex++;
          if (this.rowIndex > this.bbsrow - 1) this.rowIndex = 0;
          break;
        case 13:
          console.log("enter index:" + this.rowIndex);
          console.log(this.$route.name);
          break;
      }
      console.log("rowIndex=" + this.rowIndex);
    }
  }
};
</script>