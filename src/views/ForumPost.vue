<template>
<div id="mainContainer"><span type="bbsrow" srow="0"><div><span class="" data-type="bbsline" data-row="0"><span><span class="q4 b7"> 作者 </span><span class="q7 b4"> guets (guets)                                             </span><span class="q4 b7"> 看板 </span><span class="q7 b4"> Magic </span><span class="q7 b0">  </span></span></span><div></div></div></span><span type="bbsrow" srow="1"><div><span class="" data-type="bbsline" data-row="1"><span><span class="q4 b7"> 標題 </span><span class="q7 b4"> [討論] 猖獗的底密爾                                                    </span><span class="q7 b0">  </span></span></span><div></div></div></span><span type="bbsrow" srow="2"><div><span class="" data-type="bbsline" data-row="2"><span><span class="q4 b7"> 時間 </span><span class="q7 b4"> Wed Oct  7 22:43:48 2020                                               </span><span class="q7 b0">  </span></span></span><div></div></div></span><span type="bbsrow" srow="3"><div><span class="" data-type="bbsline" data-row="3"><span><span class="q6 b0">───────────────────────────────────────</span><span class="q7 b0">  </span></span></span><div></div></div></span><span type="bbsrow" srow="4"><div><span class="" data-type="bbsline" data-row="4"><span><span class="q7 b0">                                                                                </span></span></span><div></div></div></span><span type="bbsrow" srow="5"><div><span class="" data-type="bbsline" data-row="5"><span><span class="q7 b0">雖然底密爾(UB)是我當年初入魔風最愛的色組/公會                                   </span></span></span><div></div></div></span><span type="bbsrow" srow="6"><div><span class="" data-type="bbsline" data-row="6"><span><span class="q7 b0">                                                                                </span></span></span><div></div></div></span><span type="bbsrow" srow="7"><div><span class="" data-type="bbsline" data-row="7"><span><span class="q7 b0">但最近實在氾濫到連我都覺得噁心了                                                </span></span></span><div></div></div></span><span type="bbsrow" srow="8"><div><span class="" data-type="bbsline" data-row="8"><span><span class="q7 b0">                                                                                </span></span></span><div></div></div></span><span type="bbsrow" srow="9"><div><span class="" data-type="bbsline" data-row="9"><span><span class="q7 b0">                                                                                </span></span></span><div></div></div></span><span type="bbsrow" srow="10"><div><span class="" data-type="bbsline" data-row="10"><span><span class="q7 b0">就算對上另一個噁心的Omnath牌組 只要扣好康牌 也是能打的不錯的                    </span></span></span><div></div></div></span><span type="bbsrow" srow="11"><div><span class="" data-type="bbsline" data-row="11"><span><span class="q7 b0">                                                                                </span></span></span><div></div></div></span><span type="bbsrow" srow="12"><div><span class="" data-type="bbsline" data-row="12"><span><span class="q7 b0">                                                                                </span></span></span><div></div></div></span><span type="bbsrow" srow="13"><div><span class="" data-type="bbsline" data-row="13"><span><span class="q7 b0">另外之前很煩人的Cycling牌組現在反而變得可憐了                                   </span></span></span><div></div></div></span><span type="bbsrow" srow="14"><div><span class="" data-type="bbsline" data-row="14"><span><span class="q7 b0">                                                                                </span></span></span><div></div></div></span><span type="bbsrow" srow="15"><div><span class="" data-type="bbsline" data-row="15"><span><span class="q7 b0">底密爾:還自己乖乖幫我磨牌 感恩!                                                 </span></span></span><div></div></div></span><span type="bbsrow" srow="16"><div><span class="" data-type="bbsline" data-row="16"><span><span class="q7 b0">                                                                                </span></span></span><div></div></div></span><span type="bbsrow" srow="17"><div><span class="" data-type="bbsline" data-row="17"><span><span class="q7 b0">                                                                                </span></span></span><div></div></div></span><span type="bbsrow" srow="18"><div><span class="" data-type="bbsline" data-row="18"><span><span class="q7 b0">其實可以預見 標準小泰菲利/Uro相繼被禁 等於Flash跟Mill最大的天敵都不見了         </span></span></span><div></div></div></span><span type="bbsrow" srow="19"><div><span class="" data-type="bbsline" data-row="19"><span><span class="q7 b0">                                                                                </span></span></span><div></div></div></span><span type="bbsrow" srow="20"><div><span class="" data-type="bbsline" data-row="20"><span><span class="q7 b0">也觀察到 各色開始放些針對牌                                                     </span></span></span><div></div></div></span><span type="bbsrow" srow="21"><div><span class="" data-type="bbsline" data-row="21"><span><span class="q7 b0">                                                                                </span></span></span><div></div></div></span><span type="bbsrow" srow="22"><div><span class="" data-type="bbsline" data-row="22"><span><span class="q7 b0">基本上Escape系列牌都能從中得利 變相增加手牌優勢 還能抵銷墳場8張的門檻           </span></span></span><div></div></div></span><span type="bbsrow" srow="23"><div><span class="" data-type="bbsline" data-row="23"><span><span class="q3 b5">  瀏覽 第 1/4 頁 ( 17%) </span><span class="q8 b7"> 目前顯示: 第 01~22 行</span><span class="q7 b7">  </span><span class="q1 b7">(y)</span><span class="q0 b7">回應</span><span class="q1 b7">(X%)</span><span class="q0 b7">推文</span><span class="q1 b7">(h)</span><span class="q0 b7">說明</span><span class="q1 b7">(←)</span><span class="q0 b7">離開 </span><span class="q7 b0"> </span></span></span><div></div></div></span></div>
</template>

<script>
export default {
  name: "ForumPost",
  props: ['bbsrow'],
  data: function () {
    return {
      rowIndex: 0
    }
  },
  created() {
    console.log("create");
  },
  mounted() {
    this.onChange();
    this.$bus.$on('on-keyup', this.onKeyup);
    console.log("mounted");
  },
  beforeDestroy() {
    this.$bus.$off('on-keyup', this.onKeyup);
    console.log("destroy");
  },
  watch: {
    // call again the method if the route changes
    '$route': 'onChange'
  },
  methods: {
    onChange() {
      console.log("reset rowIndex=0");
      this.rowIndex = 0;
    },
    onKeyup: function (e) {
      switch (e.which) {
        case 38:
          this.rowIndex--;
          if (this.rowIndex < 0) this.rowIndex = this.bbsrow - 1;
          break;
        case 40:
          this.rowIndex++;
          if (this.rowIndex > this.bbsrow - 1) this.rowIndex = 0;
          break;
        case 13:
          console.log("enter index:" + this.rowIndex);
          console.log(this.$route.name);
          break;
      }
      console.log("rowIndex=" + this.rowIndex);
    }
  }
};
</script>